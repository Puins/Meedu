(window.webpackJsonp=window.webpackJsonp||[]).push([[32,60,61],{345:function(t,e,n){"use strict";n.r(e);var r=n(907),i=n(619);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);var o=n(16),a=Object(o.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="src/components/addons/index.vue",e.default=a.exports},351:function(t,e,n){"use strict";var r=n(24);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(352)),u={Dashboard:{index:function(){return i.default.get("/dashboard")},systemInfo:function(){return i.default.get("/dashboard/system/info")}},Addons:{index:function(){return i.default.get("/addons")},repository:function(t){return i.default.get("/addons/repository",t)},user:function(t){return i.default.get("/addons/repository/user",t)},buy:function(t){return i.default.get("/addons/repository/buy",t)},install:function(t){return i.default.get("/addons/repository/install",t)},upgrade:function(t){return i.default.get("/addons/repository/upgrade",t)},switchHandler:function(t){return i.default.postJson("/addons/switch",t)}},User:{info:function(){return i.default.get("/user")}},Login:{login:function(t){return i.default.postJson("/login",t)}},Announcement:{List:function(t){return i.default.get("/announcement",t)},Store:function(t){return i.default.postJson("/announcement",t)},Edit:function(t){return i.default.get("/announcement/"+t.id)},Update:function(t){return i.default.putJson("/announcement/"+t.id,t)},Delete:function(t){return i.default.delete("/announcement/"+t.id,t)}},CourseCategory:{List:function(t){return i.default.get("/courseCategory",t)},Create:function(t){return i.default.postJson("/courseCategory",t)},Edit:function(t){return i.default.get("/courseCategory/"+t.id)},Update:function(t){return i.default.putJson("/courseCategory/"+t.id,t)},Delete:function(t){return i.default.delete("/courseCategory/"+t.id,t)}},Role:{List:function(t){return i.default.get("/role",t)},Store:function(t){return i.default.postJson("/role",t)},Edit:function(t){return i.default.get("/role/"+t.id)},Update:function(t){return i.default.putJson("/role/"+t.id,t)},Delete:function(t){return i.default.delete("/role/"+t.id,t)}},Link:{List:function(t){return i.default.get("/link",t)},Store:function(t){return i.default.postJson("/link",t)},Edit:function(t){return i.default.get("/link/"+t.id)},Update:function(t){return i.default.putJson("/link/"+t.id,t)},Delete:function(t){return i.default.delete("/link/"+t.id,t)}},Slider:{List:function(t){return i.default.get("/slider",t)},Store:function(t){return i.default.postJson("/slider",t)},Edit:function(t){return i.default.get("/slider/"+t.id)},Update:function(t){return i.default.putJson("/slider/"+t.id,t)},Delete:function(t){return i.default.delete("/slider/"+t.id,t)}},IndexBanner:{List:function(t){return i.default.get("/indexBanner",t)},Create:function(){return i.default.get("/indexBanner/create")},Store:function(t){return i.default.postJson("/indexBanner",t)},Edit:function(t){return i.default.get("/indexBanner/"+t.id)},Update:function(t){return i.default.putJson("/indexBanner/"+t.id,t)},Delete:function(t){return i.default.delete("/indexBanner/"+t.id,t)}},AdFrom:{List:function(t){return i.default.get("/ad_from",t)},Store:function(t){return i.default.postJson("/ad_from",t)},Edit:function(t){return i.default.get("/ad_from/"+t.id)},Number:function(t){return i.default.get("/ad_from/"+t.id+"/number")},Update:function(t){return i.default.putJson("/ad_from/"+t.id,t)},Delete:function(t){return i.default.delete("/ad_from/"+t.id,t)}},CourseComment:{List:function(t){return i.default.get("/course_comment",t)},Delete:function(t){return i.default.delete("/course_comment/"+t.id,t)}},VideoComment:{List:function(t){return i.default.get("/video_comment",t)},Delete:function(t){return i.default.delete("/video_comment/"+t.id,t)}},Order:{List:function(t){return i.default.get("/order",t)},Finish:function(t){return i.default.get("/order/"+t.id+"/finish",t)}},Member:{List:function(t){return i.default.get("/member",t)},Create:function(){return i.default.get("/member")},Store:function(t){return i.default.postJson("/member",t)},Edit:function(t){return i.default.get("/member/"+t.id,t)},Update:function(t){return i.default.putJson("/member/"+t.id,t)},InviteBalanceWithdrawOrders:function(t){return i.default.get("/member/inviteBalance/withdrawOrders",t)},CreateInviteBalanceWithdrawOrder:function(t){return i.default.postJson("/member/inviteBalance/withdrawOrders",t)}},Course:{List:function(t){return i.default.get("/course",t)},CreateParams:function(t){return i.default.get("/course/create",t)},Create:function(t){return i.default.postJson("/course",t)},Edit:function(t){return i.default.get("/course/"+t.id)},Update:function(t){return i.default.putJson("/course/"+t.id,t)},Delete:function(t){return i.default.delete("/course/"+t.id,t)},SubscribeUsers:function(t){return i.default.get("/course/"+t.id+"/subscribe/users",t)}},Video:{List:function(t){return i.default.get("/video",t)},CreateParams:function(){return i.default.get("/video/create/params")},Create:function(t){return i.default.postJson("/video",t)},Edit:function(t){return i.default.get("/video/"+t.id)},Update:function(t){return i.default.putJson("/video/"+t.id,t)},Delete:function(t){return i.default.delete("/video/"+t.id,t)}},CourseChapter:{List:function(t){return i.default.get("/course_chapter/"+t.course_id,t)},Create:function(t){return i.default.postJson("/course_chapter/"+t.course_id,t)},Edit:function(t){return i.default.get("/course_chapter/"+t.course_id+"/"+t.id)},Update:function(t){return i.default.putJson("/course_chapter/"+t.course_id+"/"+t.id,t)},Delete:function(t){return i.default.delete("/course_chapter/"+t.course_id+"/"+t.id)}},Setting:{Get:function(){return i.default.get("/setting")},Save:function(t){return i.default.postJson("/setting",t)}},Administrator:{List:function(t){return i.default.get("/administrator",t)},Create:function(t){return i.default.postJson("/administrator",t)},Edit:function(t){return i.default.get("/administrator/"+t.id)},Update:function(t){return i.default.putJson("/administrator/"+t.id,t)},Delete:function(t){return i.default.delete("/administrator/"+t.id,t)},ChangePassword:function(t){return i.default.putJson("/administrator/password",t)}},AdministratorRole:{List:function(t){return i.default.get("/administrator_role",t)},Create:function(t){return i.default.postJson("/administrator_role",t)},Edit:function(t){return i.default.get("/administrator_role/"+t.id)},Update:function(t){return i.default.putJson("/administrator_role/"+t.id,t)},Delete:function(t){return i.default.delete("/administrator_role/"+t.id,t)}},AdministratorPermission:{List:function(t){return i.default.get("/administrator_permission",t)},Create:function(t){return i.default.postJson("/administrator_permission",t)},Edit:function(t){return i.default.get("/administrator_permission/"+t.id)},Update:function(t){return i.default.putJson("/administrator_permission/"+t.id,t)},Delete:function(t){return i.default.delete("/administrator_permission/"+t.id,t)}},Nav:{List:function(t){return i.default.get("/nav",t)},Create:function(t){return i.default.postJson("/nav",t)},Edit:function(t){return i.default.get("/nav/"+t.id)},Update:function(t){return i.default.putJson("/nav/"+t.id,t)},Delete:function(t){return i.default.delete("/nav/"+t.id,t)}},Statistic:{userRegister:function(t){return i.default.get("/statistic/userRegister",t)},orderCreated:function(t){return i.default.get("/statistic/orderCreated",t)}},PromoCode:{List:function(t){return i.default.get("/promoCode",t)},Create:function(t){return i.default.postJson("/promoCode",t)},Edit:function(t){return i.default.get("/promoCode/"+t.id)},Update:function(t){return i.default.putJson("/promoCode/"+t.id,t)},Delete:function(t){return i.default.delete("/promoCode/"+t.id,t)}},VideoUpload:{AliyunAuthTokenRefresh:function(t){return i.default.postJson("/video/token/aliyun/refresh",t)},AliyunAuthTokenCreate:function(t){return i.default.postJson("/video/token/aliyun/create",t)},TencentAuthToken:function(t){return i.default.postJson("/video/token/tencent",t)}}};e.default=u},352:function(t,e,n){"use strict";(function(t){var r=n(24);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(353)),u=r(n(354)),o=r(n(49)),a=(n(355),{repeatable:!1}),d={PREFIX:"/backend/api/v1",Author:"meedu",requestingApi:new Set,extractUrl:function(t){return t?t.split("?")[0]:""},isRequesting:function(t){var e=this.extractUrl(t);return this.requestingApi.has(e)},addRequest:function(t){var e=this.extractUrl(t);this.requestingApi.add(e)},deleteRequest:function(t){var e=this.extractUrl(t);this.requestingApi.delete(e)},get:function(t,e,n){var r={url:t,method:"GET"};return e&&(r.params=e),this.ajax(r,n)},post:function(t,e,n){var r={url:t,method:"POST"};return e&&(r.data=u.default.stringify(e)),this.ajax(r,n)},postJson:function(t,e,n){return this.ajax({url:t,method:"POST",data:e},n)},putJson:function(t,e,n){return this.ajax({url:t,method:"PUT",data:e},n)},patchJson:function(t,e,n,r){return this.ajax({url:t,method:"PATCH",data:e},r)},delete:function(t,e){return this.ajax({url:t,method:"DELETE"},e)},ajax:function(e,n){var r=o.default.extend({},a,e,n||{});r.crossDomain=0===r.url.indexOf("http");var d=r.url;if(r.crossDomain||(d=r.url=this.PREFIX+r.url),"GET"!=r.method){if(this.isRequesting(d))return new Promise((function(t,e){t({ok:!1,msg:"重复请求"})}));!1===r.repeatable&&this.addRequest(d)}var s={headers:{author:this.Author,Authorization:"Bearer "+o.default.getLocal("token")},responseType:"json",validateStatus:function(t){return!0},paramsSerializer:function(t){return u.default.stringify(t,{allowDots:!0})}};r.crossDomain&&(s.headers={});var l=this;return r=o.default.extend({},s,r),new Promise((function(e){return i.default.request(r).then((function(n){l.deleteRequest(r.url);var i=n.data,u=n.status;if(200==u){if(0!==(u=i.status))return 401===u?(t.$Message.warn("请重新登录"),void(window.top.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"#/login")):void t.$Message.error(i.message);i.ok=!0,e(i)}else t.$Message.error("请求异常")})).catch((function(){l.deleteRequest(r.url),e({ok:!1})}))}))}};e.default=d}).call(this,n(72))},619:function(t,e,n){"use strict";n.r(e);var r=n(620),i=n.n(r);for(var u in r)"default"!==u&&function(t){n.d(e,t,(function(){return r[t]}))}(u);e.default=i.a},620:function(t,e,n){"use strict";(function(t,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{local:[],repository:[],loading:!1,token:"",tabs:{repository:"插件市场",local:"本地插件"},tab:"repository",repositoryPaginate:{page:1,size:20,total:0},user:{name:"",balance:""}}},mounted:function(){this.init()},methods:{init:function(){this.token=t.getLocal("token"),this.refresh()},refresh:function(){this.getRepository(),this.getLocal(),this.getUser()},getLocal:function(){var t=this;this.loading=!0,n.Addons.index().then((function(e){t.local=e.data,t.loading=!1}))},getUser:function(){var t=this;n.Addons.user().then((function(e){t.user=e.data}))},getRepository:function(){var t=this;this.loading=!0,n.Addons.repository(this.repositoryPaginate).then((function(e){t.repository=e.data.data,t.repositoryPaginate.total=e.data.total,t.loading=!1}))},changePage:function(){this.getRepository()},buy:function(t){var e=this;n.Addons.buy({addons_id:t.id,addons_sign:t.sign}).then((function(t){r.$Message.success("购买成功"),e.refresh()}))},install:function(t){var e=this;n.Addons.install({addons_id:t.id,addons_sign:t.sign}).then((function(t){r.$Message.success("安装成功"),e.refresh()}))},upgrade:function(t){var e=this;n.Addons.upgrade({addons_id:t.id,addons_sign:t.sign}).then((function(t){r.$Message.success("升级成功"),e.refresh()}))},switchHandler:function(t){var e=this,r="";r=t.enabled?"enabled":"disabled",this.loading=!0,n.Addons.switchHandler({action:r,sign:t.sign}).then((function(t){e.getLocal()}))}}};e.default=i}).call(this,n(49).default,n(351).default,n(72))},907:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-basic-vue frame-page h-panel"},[t._m(0),t._v(" "),n("div",{staticClass:"h-panel-body"},[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("Tabs",{attrs:{datas:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}})],1),t._v(" "),"local"===t.tab?n("div",[n("Table",{attrs:{loading:t.loading,datas:t.local}},[n("TableItem",{attrs:{prop:"name",title:"插件名"}}),t._v(" "),n("TableItem",{attrs:{prop:"version",title:"当前版本"}}),t._v(" "),n("TableItem",{attrs:{title:"启用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.data;return[n("h-switch",{attrs:{small:!0},on:{change:function(e){return t.switchHandler(r)}},model:{value:r.enabled,callback:function(e){t.$set(r,"enabled",e)},expression:"data.enabled"}})]}}],null,!1,4135954361)}),t._v(" "),n("TableItem",{attrs:{title:"操作",align:"center",width:80},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.data;return[r.enabled&&void 0!==r.index_url?n("a",{attrs:{href:r.index_url+"?token="+t.token}},[t._v("配置")]):t._e()]}}],null,!1,2265795296)})],1)],1):t._e(),t._v(" "),"repository"===t.tab?n("div",[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("p",[t._v("\n          MeEduCloud账号："+t._s(t.user.name||"登录出错")+" | 账户余额："+t._s(t.user.balance/100)+"元\n          "),n("a",{attrs:{href:"https://meedu.vip",target:"_blank"}},[t._v("点我充值")])]),t._v(" "),n("p",[n("button",{on:{click:function(e){return t.refresh()}}},[t._v("刷新")])])]),t._v(" "),n("Table",{attrs:{loading:t.loading,datas:t.repository}},[n("TableItem",{attrs:{title:"插件"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.data;return[n("a",{attrs:{href:"https://meedu.vip/addons/"+r.id+"/"+r.sign,target:"_blank"}},[t._v("\n              "+t._s(r.name)+"\n              "),r.is_buy?n("span",{staticClass:"h-tag h-tag-red"},[t._v("已购买")]):t._e()])]}}],null,!1,1433011662)}),t._v(" "),n("TableItem",{attrs:{prop:"version",title:"版本"}}),t._v(" "),n("TableItem",{attrs:{title:"价格"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.data;return[n("span",[t._v("￥"+t._s(r.charge/100))])]}}],null,!1,878105646)}),t._v(" "),n("TableItem",{attrs:{title:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.data;return[r.is_buy?n("div",[!1===r.is_install?n("Poptip",{attrs:{content:"确认安装？"},on:{confirm:function(e){return t.install(r)}}},[n("button",[t._v("安装")])]):n("span",[t._v("已安装")]),t._v(" "),r.is_upgrade?n("Poptip",{attrs:{content:"确认升级？"},on:{confirm:function(e){return t.upgrade(r)}}},[n("button",[t._v("可升级(当前："+t._s(r.local_version)+")")])]):t._e()],1):n("div",[n("Poptip",{attrs:{content:"确认购买？"},on:{confirm:function(e){return t.buy(r)}}},[n("button",[t._v("购买")])])],1)]}}],null,!1,953332663)})],1),t._v(" "),n("div",{staticClass:"mt-10"},[n("Pagination",{attrs:{align:"right"},on:{change:t.changePage},model:{value:t.repositoryPaginate,callback:function(e){t.repositoryPaginate=e},expression:"repositoryPaginate"}})],1)],1):t._e()])])},i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"h-panel-bar"},[e("span",{staticClass:"h-panel-title"},[this._v("插件")])])}];r._withStripped=!0,n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}))}}]);