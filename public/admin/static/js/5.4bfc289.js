(window.webpackJsonp=window.webpackJsonp||[]).push([[5,60,61],{351:function(e,t,n){"use strict";var r=n(24);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(352)),i={Dashboard:{index:function(){return u.default.get("/dashboard")},systemInfo:function(){return u.default.get("/dashboard/system/info")}},Addons:{index:function(){return u.default.get("/addons")},repository:function(e){return u.default.get("/addons/repository",e)},user:function(e){return u.default.get("/addons/repository/user",e)},buy:function(e){return u.default.get("/addons/repository/buy",e)},install:function(e){return u.default.get("/addons/repository/install",e)},upgrade:function(e){return u.default.get("/addons/repository/upgrade",e)},switchHandler:function(e){return u.default.postJson("/addons/switch",e)}},User:{info:function(){return u.default.get("/user")}},Login:{login:function(e){return u.default.postJson("/login",e)}},Announcement:{List:function(e){return u.default.get("/announcement",e)},Store:function(e){return u.default.postJson("/announcement",e)},Edit:function(e){return u.default.get("/announcement/"+e.id)},Update:function(e){return u.default.putJson("/announcement/"+e.id,e)},Delete:function(e){return u.default.delete("/announcement/"+e.id,e)}},CourseCategory:{List:function(e){return u.default.get("/courseCategory",e)},Create:function(e){return u.default.postJson("/courseCategory",e)},Edit:function(e){return u.default.get("/courseCategory/"+e.id)},Update:function(e){return u.default.putJson("/courseCategory/"+e.id,e)},Delete:function(e){return u.default.delete("/courseCategory/"+e.id,e)}},Role:{List:function(e){return u.default.get("/role",e)},Store:function(e){return u.default.postJson("/role",e)},Edit:function(e){return u.default.get("/role/"+e.id)},Update:function(e){return u.default.putJson("/role/"+e.id,e)},Delete:function(e){return u.default.delete("/role/"+e.id,e)}},Link:{List:function(e){return u.default.get("/link",e)},Store:function(e){return u.default.postJson("/link",e)},Edit:function(e){return u.default.get("/link/"+e.id)},Update:function(e){return u.default.putJson("/link/"+e.id,e)},Delete:function(e){return u.default.delete("/link/"+e.id,e)}},Slider:{List:function(e){return u.default.get("/slider",e)},Store:function(e){return u.default.postJson("/slider",e)},Edit:function(e){return u.default.get("/slider/"+e.id)},Update:function(e){return u.default.putJson("/slider/"+e.id,e)},Delete:function(e){return u.default.delete("/slider/"+e.id,e)}},IndexBanner:{List:function(e){return u.default.get("/indexBanner",e)},Create:function(){return u.default.get("/indexBanner/create")},Store:function(e){return u.default.postJson("/indexBanner",e)},Edit:function(e){return u.default.get("/indexBanner/"+e.id)},Update:function(e){return u.default.putJson("/indexBanner/"+e.id,e)},Delete:function(e){return u.default.delete("/indexBanner/"+e.id,e)}},AdFrom:{List:function(e){return u.default.get("/ad_from",e)},Store:function(e){return u.default.postJson("/ad_from",e)},Edit:function(e){return u.default.get("/ad_from/"+e.id)},Number:function(e){return u.default.get("/ad_from/"+e.id+"/number")},Update:function(e){return u.default.putJson("/ad_from/"+e.id,e)},Delete:function(e){return u.default.delete("/ad_from/"+e.id,e)}},CourseComment:{List:function(e){return u.default.get("/course_comment",e)},Delete:function(e){return u.default.delete("/course_comment/"+e.id,e)}},VideoComment:{List:function(e){return u.default.get("/video_comment",e)},Delete:function(e){return u.default.delete("/video_comment/"+e.id,e)}},Order:{List:function(e){return u.default.get("/order",e)},Finish:function(e){return u.default.get("/order/"+e.id+"/finish",e)}},Member:{List:function(e){return u.default.get("/member",e)},Create:function(){return u.default.get("/member")},Store:function(e){return u.default.postJson("/member",e)},Edit:function(e){return u.default.get("/member/"+e.id,e)},Update:function(e){return u.default.putJson("/member/"+e.id,e)},InviteBalanceWithdrawOrders:function(e){return u.default.get("/member/inviteBalance/withdrawOrders",e)},CreateInviteBalanceWithdrawOrder:function(e){return u.default.postJson("/member/inviteBalance/withdrawOrders",e)}},Course:{List:function(e){return u.default.get("/course",e)},CreateParams:function(e){return u.default.get("/course/create",e)},Create:function(e){return u.default.postJson("/course",e)},Edit:function(e){return u.default.get("/course/"+e.id)},Update:function(e){return u.default.putJson("/course/"+e.id,e)},Delete:function(e){return u.default.delete("/course/"+e.id,e)},SubscribeUsers:function(e){return u.default.get("/course/"+e.id+"/subscribe/users",e)}},Video:{List:function(e){return u.default.get("/video",e)},CreateParams:function(){return u.default.get("/video/create/params")},Create:function(e){return u.default.postJson("/video",e)},Edit:function(e){return u.default.get("/video/"+e.id)},Update:function(e){return u.default.putJson("/video/"+e.id,e)},Delete:function(e){return u.default.delete("/video/"+e.id,e)}},CourseChapter:{List:function(e){return u.default.get("/course_chapter/"+e.course_id,e)},Create:function(e){return u.default.postJson("/course_chapter/"+e.course_id,e)},Edit:function(e){return u.default.get("/course_chapter/"+e.course_id+"/"+e.id)},Update:function(e){return u.default.putJson("/course_chapter/"+e.course_id+"/"+e.id,e)},Delete:function(e){return u.default.delete("/course_chapter/"+e.course_id+"/"+e.id)}},Setting:{Get:function(){return u.default.get("/setting")},Save:function(e){return u.default.postJson("/setting",e)}},Administrator:{List:function(e){return u.default.get("/administrator",e)},Create:function(e){return u.default.postJson("/administrator",e)},Edit:function(e){return u.default.get("/administrator/"+e.id)},Update:function(e){return u.default.putJson("/administrator/"+e.id,e)},Delete:function(e){return u.default.delete("/administrator/"+e.id,e)},ChangePassword:function(e){return u.default.putJson("/administrator/password",e)}},AdministratorRole:{List:function(e){return u.default.get("/administrator_role",e)},Create:function(e){return u.default.postJson("/administrator_role",e)},Edit:function(e){return u.default.get("/administrator_role/"+e.id)},Update:function(e){return u.default.putJson("/administrator_role/"+e.id,e)},Delete:function(e){return u.default.delete("/administrator_role/"+e.id,e)}},AdministratorPermission:{List:function(e){return u.default.get("/administrator_permission",e)},Create:function(e){return u.default.postJson("/administrator_permission",e)},Edit:function(e){return u.default.get("/administrator_permission/"+e.id)},Update:function(e){return u.default.putJson("/administrator_permission/"+e.id,e)},Delete:function(e){return u.default.delete("/administrator_permission/"+e.id,e)}},Nav:{List:function(e){return u.default.get("/nav",e)},Create:function(e){return u.default.postJson("/nav",e)},Edit:function(e){return u.default.get("/nav/"+e.id)},Update:function(e){return u.default.putJson("/nav/"+e.id,e)},Delete:function(e){return u.default.delete("/nav/"+e.id,e)}},Statistic:{userRegister:function(e){return u.default.get("/statistic/userRegister",e)},orderCreated:function(e){return u.default.get("/statistic/orderCreated",e)}},PromoCode:{List:function(e){return u.default.get("/promoCode",e)},Create:function(e){return u.default.postJson("/promoCode",e)},Edit:function(e){return u.default.get("/promoCode/"+e.id)},Update:function(e){return u.default.putJson("/promoCode/"+e.id,e)},Delete:function(e){return u.default.delete("/promoCode/"+e.id,e)}},VideoUpload:{AliyunAuthTokenRefresh:function(e){return u.default.postJson("/video/token/aliyun/refresh",e)},AliyunAuthTokenCreate:function(e){return u.default.postJson("/video/token/aliyun/create",e)},TencentAuthToken:function(e){return u.default.postJson("/video/token/tencent",e)}}};t.default=i},352:function(e,t,n){"use strict";(function(e){var r=n(24);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(353)),i=r(n(354)),o=r(n(49)),a=(n(355),{repeatable:!1}),d={PREFIX:"/backend/api/v1",Author:"meedu",requestingApi:new Set,extractUrl:function(e){return e?e.split("?")[0]:""},isRequesting:function(e){var t=this.extractUrl(e);return this.requestingApi.has(t)},addRequest:function(e){var t=this.extractUrl(e);this.requestingApi.add(t)},deleteRequest:function(e){var t=this.extractUrl(e);this.requestingApi.delete(t)},get:function(e,t,n){var r={url:e,method:"GET"};return t&&(r.params=t),this.ajax(r,n)},post:function(e,t,n){var r={url:e,method:"POST"};return t&&(r.data=i.default.stringify(t)),this.ajax(r,n)},postJson:function(e,t,n){return this.ajax({url:e,method:"POST",data:t},n)},putJson:function(e,t,n){return this.ajax({url:e,method:"PUT",data:t},n)},patchJson:function(e,t,n,r){return this.ajax({url:e,method:"PATCH",data:t},r)},delete:function(e,t){return this.ajax({url:e,method:"DELETE"},t)},ajax:function(t,n){var r=o.default.extend({},a,t,n||{});r.crossDomain=0===r.url.indexOf("http");var d=r.url;if(r.crossDomain||(d=r.url=this.PREFIX+r.url),"GET"!=r.method){if(this.isRequesting(d))return new Promise((function(e,t){e({ok:!1,msg:"重复请求"})}));!1===r.repeatable&&this.addRequest(d)}var s={headers:{author:this.Author,Authorization:"Bearer "+o.default.getLocal("token")},responseType:"json",validateStatus:function(e){return!0},paramsSerializer:function(e){return i.default.stringify(e,{allowDots:!0})}};r.crossDomain&&(s.headers={});var l=this;return r=o.default.extend({},s,r),new Promise((function(t){return u.default.request(r).then((function(n){l.deleteRequest(r.url);var u=n.data,i=n.status;if(200==i){if(0!==(i=u.status))return 401===i?(e.$Message.warn("请重新登录"),void(window.top.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"#/login")):void e.$Message.error(u.message);u.ok=!0,t(u)}else e.$Message.error("请求异常")})).catch((function(){l.deleteRequest(r.url),t({ok:!1})}))}))}};t.default=d}).call(this,n(72))},357:function(e,t,n){"use strict";n.r(t);var r=n(358),u=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t.default=u.a},358:function(e,t,n){"use strict";(function(e){var r=n(24);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(495)),i={props:{value:{type:String,default:""}},components:{tinymce:u.default},data:function(){return{data:this.value,id:"tinymce"+Math.ceil(100*Math.random()),config:{height:"400px",language:"zh_CN",convert_urls:!1,language_url:window.location.protocol+"//"+window.location.host+window.location.pathname+"/dist/tinymce/zh_CN.js",automatic_uploads:!0,images_upload_handler:function(t,n,r){var u,i;(u=new XMLHttpRequest).withCredentials=!1,u.open("POST","/backend/api/v1/upload/image/tinymce"),u.setRequestHeader("Authorization","Bearer "+e.getLocal("token")),u.onload=function(){var e;200===u.status?(e=JSON.parse(u.responseText))&&"string"==typeof e.location?n(e.location):r("Invalid JSON: "+u.responseText):r("HTTP Error: "+u.status)},(i=new FormData).append("file",t.blob(),t.filename()),u.send(i)}}}},watch:{value:function(e,t){this.data=e},data:function(e,t){this.$emit("input",e)}}};t.default=i}).call(this,n(49).default)},363:function(e,t,n){"use strict";n.r(t);var r=n(364),u=n(357);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);var o=n(16),a=Object(o.a)(u.default,r.a,r.b,!1,null,null,null);a.options.__file="src/components/common/tinymce.vue",t.default=a.exports},364:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("tinymce",{attrs:{id:e.id,other_options:e.config},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})},u=[];r._withStripped=!0,n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u}))},577:function(e,t,n){"use strict";n.r(t);var r=n(578),u=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t.default=u.a},578:function(e,t,n){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{value:{type:String,default:""}},mounted:function(){var t=this;this.aliyun=new AliyunUpload.Vod({partSize:1048576,parallel:5,retryCount:3,retryDuration:2,onUploadstarted:function(r){r.videoId?e.VideoUpload.AliyunAuthTokenRefresh({video_id:r.videoId}).then((function(e){500===e.data.code?n.$Message.error(e.data.message):t.aliyun.setUploadAuthAndAddress(r,e.data.upload_auth,e.data.upload_address,e.data.video_id)})).catch((function(e){n.$Message.error("request auth error.1")})):e.VideoUpload.AliyunAuthTokenCreate({title:r.file.name,filename:r.file.name}).then((function(e){500===e.data.code?n.$Message.error(e.data.message):t.aliyun.setUploadAuthAndAddress(r,e.data.upload_auth,e.data.upload_address,e.data.video_id)})).catch((function(e){n.$Message.error("request auth error.2")}))},onUploadSucceed:function(e){console.log(e),t.vid=e.videoId,t.process="上传成功"},onUploadFailed:function(e,n,r){t.process="上传失败:"+r+":code:"+n},onUploadProgress:function(e,n,r){t.process=Math.ceil(100*r)+"%"},onUploadTokenExpired:function(r){e.VideoUpload.AliyunAuthTokenRefresh({video_id:r.videoId}).then((function(e){500===e.data.code?n.$Message.error(e.data.message):t.aliyun.resumeUploadWithAuth(e.data.upload_auth)})).catch((function(e){n.$Message.error("request auth error.3")}))},onUploadEnd:function(e){}})},data:function(){return{vid:this.value,process:"",aliyun:null}},methods:{selectVideo:function(){this.$refs.aliyunfile.click()},fileChange:function(e){0!==e.target.files.length&&(this.aliyun.addFile(e.target.files[0],null,null,null,""),this.aliyun.startUpload())}},watch:{value:function(e,t){this.vid=e},vid:function(e,t){this.$emit("input",e)}}};t.default=r}).call(this,n(351).default,n(72))},579:function(e,t,n){"use strict";n.r(t);var r=n(580),u=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t.default=u.a},580:function(e,t,n){"use strict";(function(e,r){var u=n(24);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n(820)),o={props:{value:{type:String,default:""}},data:function(){return{vid:this.value,process:"",uploader:null}},methods:{fileChange:function(e){var t=e.target.files;0!==t.length&&this.uploadFile(t[0])},uploadFile:function(t){var n=this,u=new i.default({getSignature:function(){return e.VideoUpload.TencentAuthToken().then((function(e){return 0!==e.status?(r.$Message.error(e.message),null):e.data.signature}))}}).upload({mediaFile:t});u.on("media_progress",(function(e){n.process=100*e.percent+"%"})),u.done().then((function(e){console.log(e),n.process="上传成功",n.vid=e.fileId})).catch((function(e){console.log(e),r.$Message.error("上传错误")}))},selectVideo:function(){this.$refs.tencentfile.click()}},watch:{value:function(e,t){this.vid=e},vid:function(e,t){this.$emit("input",e)}}};t.default=o}).call(this,n(351).default,n(72))},674:function(e,t,n){"use strict";n.r(t);var r=n(916),u=n(577);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);var o=n(16),a=Object(o.a)(u.default,r.a,r.b,!1,null,null,null);a.options.__file="src/components/common/video/aliyun/aliyun.vue",t.default=a.exports},675:function(e,t,n){"use strict";n.r(t);var r=n(917),u=n(579);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);var o=n(16),a=Object(o.a)(u.default,r.a,r.b,!1,null,null,null);a.options.__file="src/components/common/video/tencent/tencent.vue",t.default=a.exports},681:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new e({title:"",charge:0,short_description:"",description:"",seo_keywords:"",seo_description:"",published_at:"",is_show:0,aliyun_video_id:"",tencent_video_id:"",url:"",duration:0});t.default=n}).call(this,n(356))},916:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"h-input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.vid,expression:"vid"}],attrs:{type:"text"},domProps:{value:e.vid},on:{input:function(t){t.target.composing||(e.vid=t.target.value)}}}),e._v(" "),n("Button",{attrs:{color:"yellow"},on:{click:e.selectVideo}},[n("i",{staticClass:"h-icon-upload"}),e._v(" 选择视频")])],1),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"aliyunfile",attrs:{type:"file"},on:{change:e.fileChange}}),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:e.process,expression:"process"}]},[e._v("\n    上传进度："),n("span",[e._v(e._s(e.process))])])])},u=[];r._withStripped=!0,n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u}))},917:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"h-input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.vid,expression:"vid"}],attrs:{type:"text"},domProps:{value:e.vid},on:{input:function(t){t.target.composing||(e.vid=t.target.value)}}}),e._v(" "),n("Button",{attrs:{color:"primary"},on:{click:e.selectVideo}},[n("i",{staticClass:"h-icon-upload"}),e._v(" 选择视频")])],1),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"tencentfile",attrs:{type:"file"},on:{change:e.fileChange}}),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:e.process,expression:"process"}]},[e._v("\n    上传进度："),n("span",[e._v(e._s(e.process))])])])},u=[];r._withStripped=!0,n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u}))}}]);